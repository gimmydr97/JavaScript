<h1>Register</h1>
<head>
    <script>
        function requestFetchNameGET() {
            const name = document.getElementById('name').value;
            fetch(`http://localhost:8080/submit?name=${encodeURIComponent(name)}`)
                .then(function (response) {
                    if (!response.ok){
                        throw Error(response.statusText);
                    }
                    if (response.headers.get("Content-Type") !== 'application/json') {
                        response.text().then(text => {
                                document.getElementById("list").innerHTML = text;
                                
                            
                        });
                    } 
                    
                })
                .catch(function (error) {
                window.alert(error);
                });
        }
    </script>
</head>
<form action="/register" method="POST">
    <div>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required onchange="requestFetchNameGET()">
        <h3 id = "list"></h3>
    </div>
    <br>
    <div>
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>
    </div>
    <button type="submit">Register</button>
</form>


<a href="/login">Login</a>